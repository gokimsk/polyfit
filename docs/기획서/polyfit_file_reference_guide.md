# PolyFit 파일 참조 규칙 가이드

**프로젝트**: PolyFit - 상황 기반 정책 추천 서비스  
**작성일**: 2025.08.02  
**목적**: Cursor AI에서 효율적인 파일 참조를 위한 규칙  
**대상**: 개인 개발자 (바이브코딩)

---

## 📂 업로드된 파일 현황

### 📋 프로젝트 문서 (Cursor AI 업로드 완료)
```
POLYFIT/
├── 기획서/
│   ├── PolyFit IA 화면구조도.md
│   ├── PolyFit 기능명세서.md
│   ├── PolyFit 데이터 구조 설계안.md
│   ├── PolyFit 프로젝트 개발 명세서.md
│   ├── PolyFit IA 화면구조도.md
│   └── PolyFit MVP 기획서.md
├── PolyFit MVP TypeScript 정의 파일.md
├── PolyFit_IA_화면구조도.pdf
└── PolyFit MVP 서비스 와이어프레임/
    ├── components/
    ├── guidelines/
    ├── styles/
    └── App.tsx
```

---

## 🎯 파일 우선순위 체계

### 🥇 1순위: 핵심 개발 문서 (항상 참조)
| 파일명 | 역할 | 참조 시점 | 중요도 |
|--------|------|-----------|--------|
| **PolyFit MVP TypeScript 정의 파일.md** | 타입, 인터페이스, 상수 정의 | 모든 코딩 작업 시 | ⭐⭐⭐⭐⭐ |
| **PolyFit 기능명세서.md** | 상세 동작 로직, 상호작용 규칙 | 기능 구현 시 | ⭐⭐⭐⭐⭐ |
| **PolyFit IA 화면구조도.md** | 페이지 구조, 컴포넌트 계층 | UI 구현 시 | ⭐⭐⭐⭐ |
| **PolyFit 데이터 구조 설계안.md** | JSON 구조, 샘플 데이터 | 데이터 작업 시 | ⭐⭐⭐⭐ |

### 🥈 2순위: 전체 가이드 문서 (맥락 참조)
| 파일명 | 역할 | 참조 시점 | 중요도 |
|--------|------|-----------|--------|
| **PolyFit 프로젝트 개발 명세서.md** | 전체 프로젝트 개요, 개발 가이드 | 프로젝트 시작/전체 맥락 | ⭐⭐⭐ |
| **PolyFit MVP 기획서.md** | 서비스 개요, 비즈니스 요구사항 | 기획 의도 확인 시 | ⭐⭐⭐ |

### 🥉 3순위: 시각적 참조 자료 (디자인 참조)
| 파일명 | 역할 | 참조 시점 | 중요도 |
|--------|------|-----------|--------|
| **PolyFit_IA_화면구조도.pdf** | 시각적 화면 구조 | UI 레이아웃 구현 시 | ⭐⭐ |
| **PolyFit MVP 서비스 와이어프레임/** | 컴포넌트, 가이드라인, 스타일 | 디자인 시스템 적용 시 | ⭐⭐ |

---

## 🔄 개발 단계별 파일 참조 흐름

### Phase 1: 프로젝트 초기화 (Day 1-2)
```
참조 순서:
1. PolyFit 프로젝트 개발 명세서.md (전체 맥락 파악)
2. PolyFit MVP TypeScript 정의 파일.md (타입 설정)
3. PolyFit 데이터 구조 설계안.md (JSON 파일 생성)

Cursor AI 프롬프트:
"PolyFit 프로젝트 개발 명세서.md를 참조해서 Next.js 프로젝트를 초기화해줘."
```

### Phase 2: 메인 페이지 개발 (Day 3-5)
```
참조 순서:
1. PolyFit IA 화면구조도.md (페이지 구조)
2. PolyFit 기능명세서.md (상황카드 선택 로직)
3. PolyFit MVP TypeScript 정의 파일.md (타입 사용)
4. PolyFit_IA_화면구조도.pdf (시각적 레이아웃)

Cursor AI 프롬프트:
"PolyFit IA 화면구조도.md와 PolyFit 기능명세서.md를 참조해서 메인 페이지를 구현해줘."
```

### Phase 3: 정책 리스트/상세 (Day 6-10)
```
참조 순서:
1. PolyFit 기능명세서.md (매칭 알고리즘, 필터링)
2. PolyFit MVP TypeScript 정의 파일.md (Policy 인터페이스)
3. PolyFit 데이터 구조 설계안.md (정책 데이터)
4. PolyFit IA 화면구조도.md (페이지 구조)

Cursor AI 프롬프트:
"PolyFit 기능명세서.md의 태그 매칭 알고리즘을 참조해서 매칭 함수를 구현해줘."
```

### Phase 4: 스타일링 및 완성도 (Day 11-15)
```
참조 순서:
1. PolyFit MVP 서비스 와이어프레임/styles/ (디자인 시스템)
2. PolyFit MVP 서비스 와이어프레임/guidelines/ (UI 가이드라인)
3. PolyFit_IA_화면구조도.pdf (최종 레이아웃 검증)

Cursor AI 프롬프트:
"PolyFit MVP 서비스 와이어프레임의 스타일 가이드를 참조해서 반응형 디자인을 적용해줘."
```

---

## 💡 효과적인 Cursor AI 프롬프트 작성법

### 🎯 기본 프롬프트 템플릿
```
"[주요 참조 파일명]을 참조해서 [구체적인 구현 목표]를 만들어줘.

참조 파일:
- 타입 정의: PolyFit MVP TypeScript 정의 파일.md
- 기능 명세: PolyFit 기능명세서.md
- UI 구조: PolyFit IA 화면구조도.md

기술스택: Next.js 14, TypeScript, Tailwind CSS

요구사항:
[구체적인 기능 요구사항 나열]

제약사항:
- localStorage만 사용 (sessionStorage 금지)
- 정적 JSON 데이터만 사용
- 외부 CDN은 https://cdnjs.cloudflare.com만 허용"
```

### 📝 단계별 프롬프트 예시

#### 🔧 프로젝트 초기화
```
"PolyFit 프로젝트 개발 명세서.md와 PolyFit MVP TypeScript 정의 파일.md를 참조해서 Next.js 14 프로젝트를 초기화해줘.

요구사항:
- App Router 사용
- TypeScript + Tailwind CSS 설정
- src/ 폴더 구조 생성 (app, components, lib, types, data)
- 기본 타입 정의 파일 생성

설치할 패키지와 명령어도 알려줘."
```

#### 🏠 메인 페이지 구현
```
"PolyFit IA 화면구조도.md와 PolyFit 기능명세서.md를 참조해서 메인 페이지를 구현해줘.

구현할 기능:
- 6개 상황카드 (SITUATIONS 상수 사용)
- 최대 3개 선택 로직 (4번째 클릭 시 비활성화)
- 선택 상태 시각적 피드백 (테두리 + 체크아이콘)
- 버튼 텍스트 동적 변경 (0~3개에 따라)
- /policies?situations=id1,id2,id3 형태로 라우팅

반응형:
- 모바일: 2x3 그리드
- 데스크탑: 3x2 그리드

TypeScript 타입은 src/types/index.ts에서 import"
```

#### ⚙️ 매칭 알고리즘 구현
```
"PolyFit 기능명세서.md의 3.2절 태그 매칭 알고리즘을 참조해서 매칭 함수를 구현해줘.

파일 위치: src/lib/matching.ts

구현할 함수:
1. calculateMatchScore(selectedSituations, policy)
   - 1순위: 태그 매칭 개수
   - 2순위: 상황 매칭 개수
   - 3순위: 마감 임박 보너스 (+1점, 30일 이내)

2. filterAndSortPolicies(policies, selectedSituations, sortOption, category)
   - 매칭 점수 계산
   - 정렬 적용 (추천순/마감임박순/최신순)
   - 카테고리 필터링

타입 정의는 PolyFit MVP TypeScript 정의 파일.md 참조"
```

#### 📋 정책 리스트 페이지
```
"PolyFit IA 화면구조도.md와 PolyFit 기능명세서.md를 참조해서 정책 리스트 페이지를 구현해줘.

파일 위치: app/policies/page.tsx

기능:
- URL 파라미터 (?situations=id1,id2,id3) 파싱
- 선택된 상황 태그 표시
- 필터 섹션 (정렬 3개 옵션 + 카테고리 5개)
- 정책카드 리스트 (매칭 점수 표시)
- 로딩/빈 결과 상태 처리

헤더:
- 뒤로가기 버튼
- "맞춤 정책 (X개)" 제목

정책카드 클릭 시 /policies/[id] 이동"
```

#### 📄 정책 상세 페이지
```
"PolyFit IA 화면구조도.md와 PolyFit 기능명세서.md를 참조해서 정책 상세 페이지를 구현해줘.

파일 위치: app/policies/[id]/page.tsx

페이지 구조:
1. 헤더 (뒤로가기 + 공유하기)
2. 메인 정보 카드 (매칭 표시 + 제목 + 설명)
3. 기본 정보 (👥 대상, ⭐ 지원내용, 📅 기간)
4. 아코디언 (🟢 자격요건, 📋 서류, ⚠️ 주의사항)
5. 관련 정책 추천 (3-5개)
6. 신청하기 버튼 (외부 링크 확인 팝업)

동적 라우팅으로 policy ID 추출해서 해당 정책 데이터 표시"
```

---

## ⚠️ 중요 제약사항 및 주의점

### 🚫 절대 금지 사항
```
❌ sessionStorage 사용 (Claude.ai 환경 미지원)
❌ 백엔드 API 호출 (정적 JSON만 사용)
❌ https://cdnjs.cloudflare.com 외 외부 스크립트
❌ 실시간 데이터베이스 연동
❌ 서버 사이드 상태 관리
```

### ✅ 권장 사항
```
✅ localStorage 사용 (북마크 기능용)
✅ 정적 JSON 파일 기반 데이터
✅ React.memo 컴포넌트 최적화
✅ TypeScript strict 모드
✅ Tailwind CSS 유틸리티 클래스
```

### 🔧 문제 해결 가이드
```
문제: TypeScript 타입 오류
해결: PolyFit MVP TypeScript 정의 파일.md 재확인

문제: 매칭 로직 오류
해결: PolyFit 기능명세서.md의 알고리즘 섹션 참조

문제: UI 구조 혼란
해결: PolyFit IA 화면구조도.md 및 PDF 파일 확인

문제: 데이터 구조 불일치
해결: PolyFit 데이터 구조 설계안.md 참조
```

---

## 📊 정보 충돌 시 우선순위

### 🎯 문서간 정보 상충 시 해결 규칙
```
1순위: PolyFit MVP TypeScript 정의 파일.md
2순위: PolyFit 기능명세서.md
3순위: PolyFit IA 화면구조도.md
4순위: PolyFit 데이터 구조 설계안.md
5순위: 기타 문서들
```

### 🔄 핵심 정보 일관성 체크
```
✅ 서비스명: PolyFit (정책봇 아님)
✅ 상황 개수: 6개 (자취시작, 구직중, 퇴사후, 육아준비, 연말정산, 결혼준비)
✅ 선택 제한: 최대 3개
✅ 카테고리: 5개 (주거지원, 취업/교육, 생활/복지, 금융/창업, 의료지원)
✅ 매칭 우선순위: 태그개수 → 상황매칭 → 마감임박
```

---

## 🔍 파일별 활용 팁

### **PolyFit MVP TypeScript 정의 파일.md**
```
활용 시점: 모든 코딩 작업의 시작점
주요 내용: interface, type, 상수값 정의
주의사항: 
- 정확한 타입명 사용 (SituationId, CategoryId 등)
- SITUATIONS, CATEGORIES 상수 그대로 사용
- Policy 인터페이스 필드 누락 없이 구현

프롬프트 예시:
"PolyFit MVP TypeScript 정의 파일.md의 Policy 인터페이스를 정확히 사용해서..."
```

### **PolyFit 기능명세서.md**
```
활용 시점: 구체적인 기능 구현 시
주요 내용: 상세 로직, 상호작용 규칙, 알고리즘
주의사항:
- 매칭 알고리즘 우선순위 정확히 구현
- 사용자 상호작용 로직 빠짐없이 적용
- 에러 처리 시나리오 포함

프롬프트 예시:
"PolyFit 기능명세서.md의 F1 상황카드 선택 기능을 정확히 구현해서..."
```

### **PolyFit IA 화면구조도.md**
```
활용 시점: UI 구조 설계 및 구현 시
주요 내용: 페이지 계층, 컴포넌트 구조, 라우팅
주의사항:
- 페이지 계층 구조 정확히 반영
- 컴포넌트 분할 기준 준수
- 라우팅 경로 일치

프롬프트 예시:
"PolyFit IA 화면구조도.md의 페이지 구조를 정확히 따라서..."
```

### **PolyFit 데이터 구조 설계안.md**
```
활용 시점: JSON 파일 생성 및 데이터 작업 시
주요 내용: 데이터 스키마, 샘플 데이터, 관계
주의사항:
- JSON 스키마 정확히 준수
- 필수 필드 누락 없이 생성
- 데이터 관계 무결성 유지

프롬프트 예시:
"PolyFit 데이터 구조 설계안.md의 JSON 스키마를 따라서 샘플 데이터를..."
```

---

## 🚀 개발 효율성 극대화 전략

### 📋 단계별 체크리스트 활용
```
Phase 1 완료 확인:
□ TypeScript 타입 정의 완료
□ 기본 프로젝트 구조 생성
□ 샘플 데이터 파일 준비

Phase 2 완료 확인:
□ 메인 페이지 상황카드 선택 로직
□ URL 라우팅 정상 동작
□ 매칭 알고리즘 구현

Phase 3 완료 확인:
□ 정책 리스트 필터링/정렬
□ 정책 상세 페이지 아코디언
□ 외부 링크 확인 팝업

Phase 4 완료 확인:
□ 반응형 디자인 적용
□ 접근성 개선
□ 성능 최적화 완료
```

### 🔄 반복 개발 패턴
```
1. 파일 참조 → 2. 프롬프트 작성 → 3. 코드 생성 → 4. 테스트 → 5. 수정 요청

효율적인 수정 요청:
"앞서 구현한 [컴포넌트명]에서 [구체적 이슈]가 발생해. 
PolyFit 기능명세서.md의 [해당 섹션]을 다시 확인해서 수정해줘."
```

### 💡 고급 활용 팁
```
복합 기능 구현 시:
"PolyFit 기능명세서.md의 F2 매칭 시스템과 F3 필터링을 함께 고려해서 
정책 리스트 페이지를 구현해줘."

디버깅 시:
"현재 매칭 점수가 예상과 다르게 나와. 
PolyFit 기능명세서.md의 매칭 알고리즘을 다시 확인해서 
calculateMatchScore 함수를 점검해줘."

성능 최적화 시:
"PolyFit 프로젝트 개발 명세서.md의 성능 목표(Lighthouse 90점+)를 
달성하기 위해 현재 코드를 최적화해줘."
```

---

## 📞 문제 해결 및 지원

### 🆘 자주 발생하는 문제
```
Q: TypeScript 타입 오류가 계속 발생해요
A: PolyFit MVP TypeScript 정의 파일.md의 정확한 타입명과 구조 재확인

Q: 매칭 결과가 예상과 달라요
A: PolyFit 기능명세서.md 3.2절의 알고리즘 로직 단계별 검증

Q: UI가 와이어프레임과 달라요
A: PolyFit IA 화면구조도.md와 PDF 파일의 구조 비교 확인

Q: 데이터가 제대로 안 불러와져요
A: PolyFit 데이터 구조 설계안.md의 JSON 스키마 정확성 검증
```

### 🔧 고급 디버깅 방법
```
단계별 검증 프롬프트:
"현재 구현된 [기능명]이 PolyFit 기능명세서.md의 요구사항을 
모두 충족하는지 체크리스트 형태로 검증해줘."

성능 분석 프롬프트:
"현재 코드가 PolyFit 프로젝트 개발 명세서.md의 성능 기준을 
만족하는지 분석하고 개선점을 제시해줘."
```

---

**📝 이 가이드 사용법**
1. 개발 시작 전 해당 Phase의 참조 파일 확인
2. 프롬프트 템플릿을 활용하여 구체적 요청 작성
3. 문제 발생 시 우선순위에 따라 문서 재참조
4. 체크리스트로 진행상황 관리

**🎯 성공 포인트**
- 문서 우선순위 엄격히 준수
- 단계별 체크리스트 활용
- 구체적이고 명확한 프롬프트 작성
- 문제 발생 시 즉시 관련 문서 재확인